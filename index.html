<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Hub | Premium Experience</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;500;700&display=swap');

        :root {
            --primary: #6366f1;
            --accent: #a855f7;
            --bg: #f8fafc;
            --card-bg: rgba(255, 255, 255, 0.8);
            --text: #1e293b;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: linear-gradient(135deg, #f0f4ff 0%, #faf5ff 100%);
            color: var(--text); overflow-x: hidden;
        }

        /* SOFT ANIMATED BACKGROUND */
        .bg-blobs { position: fixed; inset: 0; z-index: -1; overflow: hidden; }
        .blob {
            position: absolute; width: 600px; height: 600px;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.12) 0%, transparent 70%);
            filter: blur(60px); animation: move 25s infinite alternate;
        }

        @keyframes move { from { transform: translate(-15%, -15%); } to { transform: translate(25%, 25%); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        /* AUTH SCREEN */
        #auth-screen { display: flex; align-items: center; justify-content: center; height: 100vh; }
        .auth-box {
            width: 380px; padding: 50px 40px; text-align: center;
            background: var(--card-bg); backdrop-filter: blur(25px);
            border: 1px solid rgba(255,255,255,0.6); border-radius: 40px;
            box-shadow: 0 25px 50px -12px rgba(99, 102, 241, 0.1);
            animation: fadeIn 0.8s ease-out;
        }

        input {
            width: 100%; padding: 16px; margin: 15px 0;
            background: white; border: 1px solid #e2e8f0;
            border-radius: 20px; color: var(--text); font-size: 1rem;
            transition: 0.3s; box-sizing: border-box; outline: none; text-align: center;
        }
        input:focus { border-color: var(--primary); box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1); }

        .btn {
            width: 100%; padding: 16px; background: var(--primary);
            border: none; border-radius: 20px; color: white;
            font-weight: 700; cursor: pointer; transition: 0.3s;
            box-shadow: 0 10px 15px -3px rgba(99, 102, 241, 0.2);
        }
        .btn:hover { transform: translateY(-2px); background: #4f46e5; box-shadow: 0 15px 20px -5px rgba(99, 102, 241, 0.3); }

        /* MAIN DASHBOARD */
        #app-content { display: none; padding: 40px 20px; max-width: 1250px; margin: 0 auto; }
        
        .header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px 40px; background: var(--card-bg);
            backdrop-filter: blur(20px); border-radius: 30px;
            border: 1px solid rgba(255,255,255,0.7);
            margin-bottom: 50px; animation: fadeIn 0.5s ease;
        }

        .category-group { margin-bottom: 60px; }
        .category-title {
            font-size: 1.5rem; font-weight: 800; color: #334155;
            margin-bottom: 25px; padding-left: 10px; border-left: 5px solid var(--primary);
        }

        .grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 25px;
        }

        .card {
            background: white; border: 1px solid #f1f5f9;
            padding: 40px 25px; border-radius: 35px; text-align: center;
            transition: 0.4s cubic-bezier(0.1, 0.8, 0.2, 1); cursor: pointer;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.02);
        }
        .card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 25px 35px -10px rgba(99, 102, 241, 0.1);
            border-color: var(--primary);
        }
        .card i {
            font-size: 3rem; margin-bottom: 20px; display: block;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .card h3 { margin: 0; font-size: 1.2rem; font-weight: 700; color: #1e293b; }
        .card p { font-size: 0.85rem; color: #94a3b8; margin-top: 10px; font-weight: 500; }

        /* MODULE MODAL */
        #module-loader {
            display: none; position: fixed; inset: 0; z-index: 2000;
            background: #ffffff; padding: 40px; overflow-y: auto; animation: fadeIn 0.4s ease;
        }
        .back-btn {
            position: fixed; top: 30px; right: 40px; z-index: 2100;
            background: #f1f5f9; border: none; padding: 12px 25px;
            border-radius: 15px; cursor: pointer; font-weight: 700; color: #475569;
            transition: 0.3s;
        }
        .back-btn:hover { background: #e2e8f0; color: #1e293b; }
    </style>
</head>
<body>

    <div class="bg-blobs"><div class="blob"></div><div class="blob" style="right:0; bottom:0; animation-delay: -7s;"></div></div>
    <audio id="bg-music" loop><source src="music.mp3" type="audio/mpeg"></audio>

    <div id="auth-screen">
        <div class="auth-box">
            <div style="width:70px; height:70px; background:linear-gradient(45deg, var(--primary), var(--accent)); border-radius:24px; margin:0 auto 25px auto; display:flex; align-items:center; justify-content:center; box-shadow: 0 10px 20px rgba(99, 102, 241, 0.2);">
                <i class="fas fa-fingerprint" style="color:white; font-size:2rem;"></i>
            </div>
            <h2 style="margin:0; font-size:1.8rem; font-weight:800; color:#1e293b;">Elite Hub</h2>
            <p style="color:#64748b; margin:10px 0 35px 0; font-weight:500;">Unikal adınızla rəqəmsal dünyaya qoşulun</p>
            <input type="text" id="user-in" placeholder="İstifadəçi adı daxil edin" maxlength="15">
            <button class="btn" onclick="login()">Giriş et</button>
            <p id="auth-error" style="color:#ef4444; font-size:0.85rem; margin-top:20px; display:none; font-weight:600;"></p>
        </div>
    </div>

    <div id="app-content">
        <div class="header">
            <div style="font-weight:700; display:flex; align-items:center; gap:12px;">
                <div style="width:10px; height:10px; background:#22c55e; border-radius:50%;"></div>
                <span id="u-name" style="color:#334155; font-size:1.1rem;">...</span>
            </div>
            <div style="display:flex; gap:40px; font-weight:700;">
                <span><i class="fas fa-gem" style="color:#facc15; margin-right:8px;"></i><b id="u-pts">0</b></span>
                <span><i class="fas fa-users" style="color:var(--primary); margin-right:8px;"></i>Online: <b id="on-count">0</b></span>
            </div>
            <div onclick="location.reload()" style="cursor:pointer; color:#94a3b8; font-size:1.2rem;"><i class="fas fa-power-off"></i></div>
        </div>
        <div id="dashboard"></div>
    </div>

    <div id="module-loader">
        <button class="back-btn" onclick="closeModule()"><i class="fas fa-arrow-left-long"></i> GERİ QAYIT</button>
        <div id="inject-area" style="max-width:1000px; margin:60px auto 0 auto;"></div>
    </div>

    <script>
        const originalMusic = "music.mp3";
        const categories = {
            "tools": {
                title: "Rəqəmsal Alətlər",
                items: [
                    { name: "IP Tracker", file: "ip.html", icon: "fas fa-location-crosshairs", pts: 100 },
                    { name: "Anonim Mail", file: "mail.html", icon: "fas fa-paper-plane", pts: 0 },
                    { name: "WhatsApp Speed", file: "wa.html", icon: "fab fa-whatsapp", pts: 700 },
                    { name: "Whois Search", file: "whois.html", icon: "fas fa-magnifying-glass", pts: 50 },
                    { name: "Camera Trap", file: "trap.html", icon: "fas fa-camera-retro", pts: 400 },
                    { name: "Sızıntı Axtarışı", file: "leak.html", icon: "fas fa-shield-virus", pts: 300 },
                    { name: "Kripto İzleyici", file: "crypto-track.html", icon: "fas fa-chart-line", pts: 0 }
                ]
            },
            "fun": {
                title: "Əyləncə & Multiplayer",
                items: [
                    { name: "Tarot Analizi", file: "tarot_elite.html", icon: "fas fa-sparkles", pts: 150 },
                    { name: "Cyber X-O", file: "tic_tac_toe.html", icon: "fas fa-gamepad", pts: 50 },
                    { name: "Binary Soul", file: "binary_soul.html", icon: "fas fa-dna", pts: 200 },
                    { name: "Sevgi Şifrəsi", file: "love_password.html", icon: "fas fa-key", pts: 80 },
                    { name: "Hissiyyat Yarışı", file: "binary_pulse.html", icon: "fas fa-bolt-lightning", pts: 120 },
                    { name: "Cyber Path", file: "cyber_path.html", icon: "fas fa-map-location-dot", pts: 100 },
                    { name: "Daş-Kağız-Qayçı", file: "rps_game.html", icon: "fas fa-hand-back-fist", pts: 30 },
                    { name: "Truth or Dare", file: "truth_or_dare.html", icon: "fas fa-user-ninja", pts: 40 }
                ]
            }
        };

        const firebaseConfig = { 
            apiKey: "AIzaSyCM5WdZNSj9oFipNI-J3csHpOIvK8PjoLU", 
            databaseURL: "https://sevgili-testi-default-rtdb.firebaseio.com", 
            projectId: "sevgili-testi" 
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        async function login() {
            const user = document.getElementById('user-in').value.trim().toLowerCase();
            const err = document.getElementById('auth-error');
            if(!user || user.length < 3) return;

            try {
                const snap = await db.ref('users/' + user).get();
                if(snap.exists()) {
                    let localId = localStorage.getItem('elite_device_id');
                    if(!localId) {
                        err.innerText = "Bu ad artıq başqa bir cihazda istifadə olunur.";
                        err.style.display = "block";
                        return;
                    }
                } else {
                    const devId = Math.random().toString(36).substring(7);
                    localStorage.setItem('elite_device_id', devId);
                    await db.ref('users/' + user).set({ points: 200, createdAt: Date.now() });
                }

                window.loginName = user;
                document.getElementById('auth-screen').style.display = "none";
                document.getElementById('app-content').style.display = "block";
                document.getElementById('u-name').innerText = user.toUpperCase();
                document.getElementById('bg-music').play().catch(() => {});

                db.ref('users/' + user + '/points').on('value', s => {
                    document.getElementById('u-pts').innerText = s.val() || 0;
                    window.userPoints = s.val() || 0;
                });

                renderDashboard();
                setInterval(() => { document.getElementById('on-count').innerText = Math.floor(Math.random()*25)+10; }, 4000);
            } catch(e) { console.error(e); }
        }

        function renderDashboard() {
            const dash = document.getElementById('dashboard');
            dash.innerHTML = "";
            for(let key in categories) {
                const cat = categories[key];
                let group = `<div class="category-group"><div class="category-title">${cat.title}</div><div class="grid">`;
                cat.items.forEach(item => {
                    group += `
                    <div class="card" onclick="openModule('${item.file}', ${item.pts}, '${key}')">
                        <i class="${item.icon}"></i>
                        <h3>${item.name}</h3>
                        <p>${item.pts} Points Required</p>
                    </div>`;
                });
                dash.innerHTML += group + `</div></div>`;
            }
        }

        async function openModule(file, pts, cat) {
            if(window.userPoints < pts) return alert("Kifayət qədər xalınız yoxdur.");
            const audio = document.getElementById('bg-music');
            if(cat === "fun") { audio.src = "fun.mp3"; audio.play(); }

            try {
                const res = await fetch(file);
                const html = await res.text();
                document.getElementById('inject-area').innerHTML = html;
                document.getElementById('module-loader').style.display = "block";
                
                const scripts = document.getElementById('inject-area').getElementsByTagName('script');
                for(let s of scripts) {
                    const ns = document.createElement("script");
                    ns.text = s.text; document.body.appendChild(ns).parentNode.removeChild(ns);
                }
            } catch(e) { alert("Fayl yüklənmədi."); }
        }

        function closeModule() {
            document.getElementById('module-loader').style.display = "none";
            const audio = document.getElementById('bg-music');
            if(!audio.src.includes(originalMusic)) { audio.src = originalMusic; audio.play(); }
        }
    </script>
</body>
</html>